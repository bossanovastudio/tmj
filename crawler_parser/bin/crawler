#!/usr/bin/env ruby

require "bundler/setup"
require "optparse"
require "crawler_parser"

opts = OptionParser.new do |opts|
  opts.banner = "Crawled Data Parser"
  opts.define_head "Usage: parser [options]"
  opts.separator ""
  opts.separator "Examples:"
  opts.separator "  bundle exec parser"
  opts.separator ""
  opts.separator "Options:"

  opts.on_tail("-?", "--help", "Show this message") do
    puts opts
    exit
  end

  opts.on_tail("-v", "--version", "Show version") do
    puts CrawlerParser::VERSION.to_markdown
    exit
  end
end
opts.parse!

@cli = CrawlerParser::CLI.new
@cli.run
